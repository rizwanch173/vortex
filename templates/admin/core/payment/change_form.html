{% extends "admin/change_form.html" %}
{% load i18n admin_urls static admin_modify %}

{% block submit_buttons_bottom %}
    {{ block.super }}
    {% if original and original.pk %}
        <div class="submit-row" style="padding: 15px; background: #f8f9fa; border-top: 1px solid #dee2e6; display: flex; gap: 10px; align-items: center; margin-top: 20px;">
            <a href="{% url 'admin:core_payment_changelist' %}" class="button" style="background: #6b7280; color: white; padding: 10px 20px; text-decoration: none; border-radius: 6px; font-weight: 500; display: inline-block; border: none; cursor: pointer;">
                â† {% trans "Back to List" %}
            </a>
            <a href="{% url 'admin:core_client_change' original.client.pk %}" class="button" style="background: #6b7280; color: white; padding: 10px 20px; text-decoration: none; border-radius: 6px; font-weight: 500; display: inline-block; border: none; cursor: pointer;">
                ğŸ‘¤ {% trans "View Client" %}
            </a>
            {% if original.invoice %}
                <a href="{% url 'admin:core_invoice_change' original.invoice.pk %}" class="button" style="background: #6b7280; color: white; padding: 10px 20px; text-decoration: none; border-radius: 6px; font-weight: 500; display: inline-block; border: none; cursor: pointer;">
                    ğŸ“„ {% trans "View Invoice" %}
                </a>
            {% else %}
                <a href="{% url 'admin:core_invoice_add' %}?client={{ original.client.pk }}{% if original.visa_application %}&visa_application={{ original.visa_application.pk }}{% endif %}" class="button" style="background: #6b7280; color: white; padding: 10px 20px; text-decoration: none; border-radius: 6px; font-weight: 500; display: inline-block; border: none; cursor: pointer;">
                    ğŸ“„ {% trans "Create Invoice" %}
                </a>
            {% endif %}
        </div>
    {% endif %}
{% endblock %}
